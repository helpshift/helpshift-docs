---
sidebar_position: 30
title: User identity Bulk APIs
description: "We will describe the various APIs available to import your end users' data into Helpshift, and export current end user data from Helpshift."
---


<Intro>
We will describe the various APIs available to import your end users' data into Helpshift, and export current end user data from Helpshift.
</Intro>

### Introduction {#introduction}

- The User Identity Bulk APIs can be used to import your end users' data into Helpshift, and export current end user data from Helpshift.
- See [POSTMAN Collection](https://www.postman.com/helpshift) for details on the API endpoints. Use the **Create Bulk Action** Task API to create bulk
  action tasks which will be processed asynchronously.
- The data to be imported is specified as a payload in the API request. Each payload is an JSON array of maps, each map containing the data for a
  single end user profile. There is a limit of 10000 payloads in a single request.
- The data to be imported is specified as a payload in the API request. Each payload is an JSON array of maps, each map containing the data for a
  single end user profile. There is a limit of 10000 payloads in a single request.

  
### Usage {#usage}

There are two ways of providing the payload -

1. Directly as a request parameter containing a JSON encoded string, using the x-www-form-urlencoded content type. This is suitable for smaller payloads.
   
   ```text
   curl --location 'https://api.helpshift.com/v2/domain/identity/bulk_actions' \
   --header 'Content-Type: application/x-www-form-urlencoded' \
   --data-urlencode 'action=create_core_profiles' \
   --data-urlencode 'payload=[{"identities":[{"uid":"uid-1"}],"last_country":"India","last_city":"Pune"},{"identities":[{"uid":"uid-2"}],"last_country":"Pakistan","last_city":"Karachi"},
   {"identities":[{"uid":"uid-3"}],"last_country":"Sri Lanka","last_city":"Colombo"}]'
   ```
2. As a file, using the multipart/form-data content type. The file must be in JSONL format, with each line being a complete JSON map containing the data for
   a single record. This is recommended for larger payloads.
   
   ```text
   curl --location 'https://api.helpshift.com/v2/wabbit/identity/bulk_actions' \
   --form 'action="update_core_profiles"' \
   --form 'payload=@"data.jsonl"'
   ```
   where `data.jsonl` has the following contents - 
   ```text
   {"identities":[{"uid":"uid-1"}],"last_country":"India","last_city":"Pune"}
   {"identities":[{"uid":"uid-2"}],"last_country":"Pakistan","last_city":"Karachi"}
   {"identities":[{"uid":"uid-3"}],"last_country":"Sri Lanka","last_city":"Colombo"}
   ```
3. Use the **Create Bulk Action** Task API to upload data into Helpshift, or request data export from Helpshift. In either case, the expected request format for each task type is listed below.
   The API response will contain a `Task ID`.
4. Using the Task ID, poll the **Get Task Status API** until the status is `completed`. The values of `errors` and results can be used to determine if the task completed successfully, or with errors.
5. Use the **Get Task Results** and **Get Task Errors APIs** to retrieve data, or any errors.

## Request Payloads {#request-payloads}

#create_core_profiles

Each entry in the payload should be a JSON map, containing one or more of the below fields. At least one identity is required. The response will contain the new core profileâ€™s ID.

<div className="text-sm compact ">

| Field         | Details                                                                                                                     | Example                           |
| ------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------- |
| identities    | Array of maps, each map contains an identity value which can be used to uniquely identify the end user. <br /> The map can also contain additional metadata as string key-value pairs, these metadata are stored as is, and not processed. <br /> The valid identity types are - <br /> <ul><li>uid</li> <li>email</li> <li>phone_number</li> <li>facebook_id</li> <li>discord_id</li> <li>whatsapp_id</li> <li>google_playstore_id</li> <li>apple_gamecenter_id</li> <li>nintendo_id</li> <li>psn_id</li> <li>xbox_live_id</li> <li>steam_id</li> </ul> | <code> [{"uid": "uid-1"}, <br /> {"email": "user@example.org", "verified": "true""}, <br /> {"discord_id": "293846823745"}] </code> |


</div>




   
