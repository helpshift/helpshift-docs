---
sidebar_position: 20
title: Helpshift APIs
description: Learn more about Helpshift APIs
---

import {
  Admonition,
  CodeBlock,
  Tabs,
  TabItem,
  LatestSdkVersion,
  Centered,
  Image,
  Intro,
  SideBySide,
  DownloadButton,
  Steps,
  Step,
} from "@site/src/components/forDocs";

# Helpshift APIs

<Intro>

</Intro>

## Open Widget {#open-widget}

If you want to open the conversation window at any time (apart from an explicit user click on launcher button), you can do it by calling the following API. This could be useful for triggering proactive help.

```javascript
Helpshift("open");
```

## Close Widget {#close-widget}

Similarly, for closing the conversation window at any time, you can call the following API.

```javascript
Helpshift("close");
```

## Hide Widget {#hide-widget}

You can hide Web Chat completely (both the launcher and the widget) by calling the following API.

```javascript
Helpshift("hide");
```

<Admonition type="info" title="Note">

You may want to use this API when you do not want to show the widget on specific pages or to specific users.

</Admonition>

## Show Widget {#show-widget}

You can have Web Chat (both the launcher and the widget) re-appear after it was previously hidden (via the hide API) by calling the following API.

```javascript
Helpshift("show");
```

<Admonition type="info" title="Note">

This API will restore the visibility of Web Chat after it was previously hidden. For example, if the widget was open before hideAPI was called, then show API will display the widget in the open state. This API retains the visibility behavior.

</Admonition>

## Visibility States

<Image
  src="/static/books/web-chat/wc-chat-widget-hide-show-api.png"
  width="full"
/>

## Update Helpshift Config {#update-helpshift-config}

If you want to update the `helpshiftConfig` object after your web page has loaded, you can do it by calling the following API

```javascript
Helpshift("updateHelpshiftConfig");
```

<Admonition type="info" title="Note">

This API is best for use with single page web applications.

</Admonition>

Example: In a single page application, if you are retrieving user related data after login, to pass that updated user data to Web Chat, you should update the global helpshiftConfig object with the user data and call the above API.

```javascript
// Initial helpshift config object during page load
helpshiftConfig = {
    platformId: "<YOUR_PLATFORM_ID>",
    domain: "<YOUR_DOMAIN>",
    .
    .
};
.
.
.
// After user login, you can update the user data in config object.
helpshiftConfig.userId = "<LOGGED_IN_USER_ID>";
Helpshift("updateHelpshiftConfig");
```

<Admonition type="danger" title="Important">

Make sure you do not overwrite the `helpshiftConfig` object when trying to update it.

</Admonition>

<Admonition type="info" title="Note">

1. This API is applicable to all the `helpshiftConfig` object options, such as user related data, language, full privacy, widgetOptions, etc.
2. Once the conversation has started, calling this API will not update the user identity or update Custom Issue Fields for an ongoing conversation.
3. This API will cause the widget to reload. If the user has opened the widget and this API is called, then the user will see the loading indicator, and the conversation of the updated user will be displayed.

</Admonition>

## Set Initial User Message {#set-initial-user-message}

If you want to set the initial user message through an API rather than making the end user type it, you can use the following API.

```javascript
var userMessage = "Hello, how can I track my order?";
Helpshift("setInitialUserMessage", userMessage);
```

<Admonition type="info" title="Note">

You should call this API before a conversation starts. In other words, it works only when the conversation is not open i.e. when a new user opens the widget or existing user has closed a conversation. If you call this API in the middle of an existing conversation it will not have any effect.

</Admonition>

## Login {#login}

The Login API is introduced along with the [new Identity system](/web-chat/users/#managing-users-with-the-identity-system).
You can refer to the linked section for details.

## Update global user data {#update-global-user-data}

This event is used in conjunction with the [new Identity system](/web-chat/users/#managing-users-with-the-identity-system) and is used to update the global data associated with a logged-in user.

The following key/value pairs are accepted in this API call:
```ts
interface CustomUserFields {
  [key: string]: string
}

interface GlobalUserData {
     // Note that all primitive values must be coerced to string
     first_name?: "string",
     last_name?: "string",
     full_name?: "string",
     display_name?: "string",
     last_country?: "string",
     last_city?: "string",
     age?: "string",
     lifetime_value?: "string",
     user_persona?: "string",
     user_vip_segment?: "string",
     user_support_status?: "string"
     last_active_date?: "string" // epoch time in ms/seconds
     accepted_t_and_c?: "string" // true/false converted to string
     preferred_language?:"string"
     full_privacy_enabled?: "string"

     // Non-primitives
     new_tags?: Array<string>
     tags_to_remove?: Array<string>
     reset_tags?: Array<string>
     custom_user_fields?: CustomUserFields
}
```

Example:
```js
  // ... Some custom logic here that obtains user data
  const full_name = "John Doe";

  Helpshift("updateGlobalUserData", {full_name})
```

<Admonition type="info" title="Info">

You can plug this API call into any place where you collect user data. However, be careful not to call it in any
useEffect-like callbacks or frequently-firing events, since rate-limiting restrictions may kick in.

Global user data is also referred to as **core attributes**.

</Admonition>

For a list of errors that can occur when using this API, refer [UPDATE_GLOBAL_USER_DATA_FAILED](#update-global-user-data-failed).

## Update app user data {#update-app-user-data}

This event is used in conjunction with the [new Identity system](/web-chat/users/#managing-users-with-the-identity-system) and is used to update the app data associated with a logged-in user.

The following key/value pairs are accepted in this API call:
```ts
interface CustomUserFields {
  [key: string]: string
}

interface AppUserData {
     // Note that all primitive values must be coerced to string
      app_version: "string",
      user_vip_segment: "string",
      sdk_version: "string",
      language:"string",
      app_rating: "string",
      user_paying_segment: "string",
      country: "string"
      user_support_status: "string"
      user_persona: "boolean string"
      accepted_t_and_c: "string"
      user_level: "string",
      app_status: "string",
      city: "string",
      lifetime_value: "string",


      // Non-primitives
      custom_user_fields?: CustomUserFields
}
```

Example:
```js
  // ... Some custom logic here that obtains user data
  const app_rating = "5";

  Helpshift("updateAppUserData", {app_rating})
```

<Admonition type="info" title="Info">

You can plug this API call into any place where you collect user data. However, be careful not to call it in any
useEffect-like callbacks or frequently-firing events, since rate-limiting restrictions may kick in.

App user data is also referred to as **app attributes**.

</Admonition>

For a list of errors that can occur when using this API, refer [UPDATE_APP_USER_DATA_FAILED](#update-app-user-data-failed).

## Add user identities {#add-user-identities}

This event is used in conjunction with the [new Identity system](/web-chat/users/#managing-users-with-the-identity-system) and is used to update identities associated with a logged-in user.

Note that although the API is named `identities`, if you wish to send multiple identities, they must be a part of the JWT's payload itself.
Essentially, the API expects a string JWT and NOT an array.

Example:
```js
  // ... Some custom logic here that obtains user data
  const identities = "header.payload.hash";
  Helpshift("addUserIdentities", identities)
```

<Admonition type="info" title="Info">

You can plug this API call into any place where you collect user identities. However, be careful not to call it in any
useEffect-like callbacks or frequently-firing events, since rate-limiting restrictions may kick in.

</Admonition>

For a list of errors that can occur when using this API, refer [ADD_USER_IDENTITY_FAILED](#add-user-identity-failed).


## Events {#events}

The Helpshift Widget fires the following events across different scenarios. You can use the `addEventListener` and `removeEventListener` APIs to manage the events.

### New Unread Messages Event {#new-unread-messages-event}

This event gets fired when there are new unread message for the user. To listen to this event, add the following code after the embed code.

<Admonition type="info" title="Note">

This event can also be used to show a browser notification when the unread messages count changes.

More info on [Browser notifications](https://developer.mozilla.org/en-US/docs/Web/API/notification)

</Admonition>

#### Adding the New Unread Messages event handler

```javascript
var newUnreadMessagesEventHandler = function (data) {
  console.log("Unread count = ", data.unreadCount);
};
Helpshift(
  "addEventListener",
  "newUnreadMessages",
  newUnreadMessagesEventHandler
);
```

#### Removing the New Unread Messages event handler

```javascript
Helpshift(
  "removeEventListener",
  "newUnreadMessages",
  newUnreadMessagesEventHandler
);
```

### User Changed Event {#user-changed-event}

This event gets fired when the user reopens Web Chat by clicking on the email link, if we detect that the user's identifier
has changed from when the original user started the conversation to when this user clicked the email link.

<Admonition type="info" title="Note">

The ‘Follow up via email’ toggle for Web Chat needs to be enabled for you to use this event. The User Changed event can
be used to build an optimal user experience for cases where the user’s identifier has changed after clicking the link,
such as in the following scenarios:

1. The user started chat anonymously (didn’t login when they were chatting), but logged in before clicking on the link.
2. The user started chat as a logged-in user but logged out before clicking the link.
3. The user started chat as a logged-in user but logged in as a different user before clicking the link.

</Admonition>

#### Adding the User Changed event handler

```javascript
var userChangedHandler = function (data) {
  console.log("User's original state is: " + data.originalState);
  console.log("User was having conversation on: " + data.pageUrl);
};
Helpshift("addEventListener", "userChanged", userChangedHandler);
```

#### Removing the User Changed event handler

```javascript
Helpshift("removeEventListener", "userChanged", userChangedHandler);
```

#### Using the values returned by the event

| Name                                                              | Values                                       | How to use                                                                                                                                                                                                                       |
| ----------------------------------------------------------------- | -------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `originalState` (this is the user’s state when they started chat) | `logged-in`                                  | If the user was originally logged-in, you should prompt the user to login again. As long as the user’s login credentials are same as their credentials when they started the chat, they’ll be able to resume their conversation. |
|                                                                   | `anonymous`                                  | If the user was originally anonymous (aka not logged-in), you should prompt the user to logout or automatically log them out so that they are able to resume their conversation.                                                 |
| `pageUrl`                                                         | The page where the user had started the chat | We highly recommend taking the user to the page where they started the chat after they successfully logout or login (based on what their original state was), so that they are taken back to the page with the right context.    |

<Admonition type="info" title="Note">

We also recommend using the [Open Widget API](https://developers.helpshift.com/web-chat/api#open-widget) to automatically open the widget for users after a successful
login/logout (depending on what their original state was.)

</Admonition>

### Widget Toggle Event {#widget-toggle-event}

This event is triggered when the user minimizes or maximizes the Web Chat main window. The event data object has a boolean property ‘visible’ which indicates the visibility of the main chat window. For your reference, see the below example:

#### Adding the Widget Toggle Event Handler

```javascript
var widgetToggleEventHandler = function (data) {
  console.log("Visibility = ", data.visible);
};
Helpshift("addEventListener", "widgetToggle", widgetToggleEventHandler);
```

#### Removing the Widget Toggle Event Handler

```javascript
Helpshift("removeEventListener", "widgetToggle", widgetToggleEventHandler);
```

### Conversation Start Event {#conversation-start-event}

This event triggers when the user sends the first message in a conversation. The event data object has a property, `message`, which includes the message string the end-user sent to start the conversation. For your reference, see the below example.

#### Adding the Conversation Start Event Handler

```javascript
var conversationStartEventHandler = function (data) {
  console.log("Message = ", data.message);
};
Helpshift(
  "addEventListener",
  "conversationStart",
  conversationStartEventHandler
);
```

#### Removing the Conversation Start Event Handler

```javascript
Helpshift(
  "removeEventListener",
  "conversationStart",
  conversationStartEventHandler
);
```

### Message Add Event {#message-add-event}

This event is triggered when the user adds a message in a conversation. It might be a text message, response via bot input, or an attachment. The event data object has `type` and `body` properties, which indicates the type and body of the message added by the user. For your reference, see the below example.

#### Adding the Message Add event handler

```javascript
var messageAddEventHandler = function (data) {
  if (data.type === "attachment") {
    console.log("user sent an attachment");
  }
  console.log("Message = ", data.body);
};
Helpshift("addEventListener", "messageAdd", messageAddEventHandler);
```

#### Removing the Message Add event handler

```javascript
Helpshift("removeEventListener", "messageAdd", messageAddEventHandler);
```

### CSAT Submit Event {#csat-submit-event}

This event is triggered when the user submits a CSAT rating after the conversation ends. The event data object has `rating` and `additionalFeedback` properties, which indicates the (star) rating and the additional comments provided by the user with the CSAT form. For your reference, see the below example.

#### Adding the CSAT Submit event handler

```javascript
var csatSubmitEventHandler = function (data) {
  console.log("Rating = ", data.rating);
  console.log("Additional Feedback = ", data.additionalFeedback);
};
Helpshift("addEventListener", "csatSubmit", csatSubmitEventHandler);
```

#### Removing the CSAT Submit event handler

```javascript
Helpshift("removeEventListener", "csatSubmit", csatSubmitEventHandler);
```

### Conversation End Event {#conversation-end-event}

This event is triggered when the conversation ends (resolved or rejected) and it cannot be reopened.

#### Adding the Conversation End event handler

```javascript
var conversationEndEventHandler = function () {
  console.log("Conversation has ended.");
};
Helpshift("addEventListener", "conversationEnd", conversationEndEventHandler);
```

#### Removing the Conversation End event handler

```javascript
Helpshift(
  "removeEventListener",
  "conversationEnd",
  conversationEndEventHandler
);
```

<Admonition type="info" title="Note">

This is different from `chatEnd` event which is only triggered when the "Close" button is clicked and is used in conjunction with `setEndUserFirstMessage` API.

The `conversationEnd` event is triggered along with the `conversationResolved` and `conversationRejected` events (documented below). This event indicates that a conversation has either been resolved or rejected and the post resolution workflow (e.g. Resolution Question) has finished. For example, if you have turned the "Resolution Question" feature on, a typical flow of events would be - `conversationResolved` → User answers the Resolution Question → `conversationEnd`.

</Admonition>

### Conversation Rejected Event {#conversation-rejected-event}

This event is triggered when an agent rejects the conversation.

#### Adding the Conversation Rejected event handler

```javascript
var conversationRejectedEventHandler = function () {
  console.log("Conversation has been rejected by the agent.");
};
Helpshift(
  "addEventListener",
  "conversationRejected",
  conversationRejectedEventHandler
);
```

#### Removing the Conversation Rejected event handler

```javascript
Helpshift(
  "removeEventListener",
  "conversationRejected",
  conversationRejectedEventHandler
);
```

### Conversation Resolved Event {#conversation-resolved-event}

This event is triggered when an agent resolves the conversation.

#### Adding the Conversation Resolved event handler

```javascript
var conversationResolvedEventHandler = function () {
  console.log("Conversation has been resolved by the agent.");
};
Helpshift(
  "addEventListener",
  "conversationResolved",
  conversationResolvedEventHandler
);
```

#### Removing the Conversation Resolved event handler

```javascript
Helpshift(
  "removeEventListener",
  "conversationResolved",
  conversationResolvedEventHandler
);
```

### Conversation Reopened Event {#conversation-reopened-event}

When resolution question is enabled, the users are asked if they're satisfied with the resolution. If the user rejects it and sends a new message, then the conversation is reopened and the Conversation Reopened event is triggered.

#### Adding the Conversation Reopened event handler

```javascript
var conversationReopenedEventHandler = function () {
  console.log("Conversation has been reopened by the user.");
};
Helpshift(
  "addEventListener",
  "conversationReopened",
  conversationReopenedEventHandler
);
```

#### Removing the Conversation Reopened event handler

```javascript
Helpshift(
  "removeEventListener",
  "conversationReopened",
  conversationReopenedEventHandler
);
```

### Agent Message Received event {#agent-message-received-event}

This event is triggered whenever an agent message is _read_ by the end-user. This event does not trigger for bot messages.

#### Adding the Agent Message Received event handler

```javascript
var agentMessageReceivedEventHandler = function (message) {
  console.log(message);
};

Helpshift(
  "addEventListener",
  "agentMessageReceived",
  agentMessageReceivedEventHandler
);
```

The data you receive will be in the following format:

```ts
type AgentMessage = {
  // The actual message sent by the agent
  body: string;
  // Conversation ID of the ongoing issue
  publishId: string;
  // Unix epoch timestamp in ms
  createdTs: number;
  // Attachments, if they are present
  attachments?: Array<{
    url: string;
    // Size of the attachment in bytes
    size: number;
    // The MIME type
    contentType?: string;
    fileName?: string;
  }>;
};
```

<Admonition type="info" title="Note">

- The attachments key is only present if the agent has sent attachments.
- Since attachments sent by agents may not have the necessary MIME type or name, it is possible
  that these values are absent from the payload.

</Admonition>

#### Removing the Agent Message Received event handler

```javascript
Helpshift(
  "removeEventListener",
  "agentMessageReceived",
  agentMessageReceivedEventHandler
);
```

### User click on Action event {#user-click-on-action-event}

This event is triggered whenever the end-user clicks on a link in an action card.

#### Adding the User Click on Action event handler

```javascript
var userClickOnActionEventHandler = function (data) {
  console.log("User clicked on action");
  console.log(data);
};

Helpshift(
  "addEventListener",
  "userClickOnAction",
  userClickOnActionEventHandler
);
```

The data you receive will be in the following format:

```ts
type ActionCardInfo = {
  actionType: "link" | "call";
  // This will be a URL or a phone number
  actionData: string;
};
```

#### Removing the User Click on Action event handler

```javascript
Helpshift(
  "removeEventListener",
  "userClickOnAction",
  userClickOnActionEventHandler
);
```

### On Web Chat Runtime Error {#on-webchat-runtime-error}

<Admonition type="danger" title="Note">

We highly recommend enabling this event listener since it can help you catch and handle important errors.

</Admonition>

This event is fired when there is a runtime error from Web Chat which requires your attention. Such events may be generated if there is an issue with the integration which can be handled programmatically.  
To listen to this event, add the following code after the embed code.

#### Adding the On Web Chat Runtime Error event handler

```typescript
interface WebChatRuntimeError {
  error: string;
  reason?: string;
  details?: object;
}

const onWebChatRuntimeErrorHandler = function ({error, reason, details}: WebChatRuntimeError) {
  console.log({error, reason, details});
};

Helpshift(
  "addEventListener",
  "onWebChatRuntimeError",
  onWebChatRuntimeErrorHandler
);
```

#### Removing the Web Chat Runtime Error event handler

```javascript
Helpshift(
  "removeEventListener",
  "onWebChatRuntimeError",
  onWebChatRuntimeErrorHandler
);
```

The following errors can occur:

##### LOGIN_FAILED {#login-failed}
Occurs when the user login fails.
The following reason and details combinations are possible in this scenario:

<table>

<tr>
<th>Reason</th>
<th>Details</th>
<th>Notes</th>
</tr>

<tr>
<td>AUTHENTICATE_WITH_FIELD_INCORRECT</td>
<td></td>
<td>

Client-side validation. Fired when you attempt to call Login, but `authenticateWith: "identities"` is not set in the `helpshiftConfig`.

</td>
</tr>

<tr>
<td>JWT_IS_INVALID</td>
<td></td>
<td>Client-side validation.  Fired when the JWT format is incorrect.</td>
</tr>

<tr>
<td>IDENTITIES_KEY_ABSENT</td>
<td></td>
<td>

Client-side validation. Fired when your JWT payload is missing the `identities` key.

</td>
</tr>

<tr>
<td>USERID_AND_EMAIL_MISSING</td>
<td></td>
<td>Client-side validation. </td>
</tr>

<tr>
<td>CONFIG_JWT_EMAIL_MISMATCH</td>
<td>

```ts
interface ConfigJwtEmailMismatchDetails {
  jwtEmail: string,
  configEmail: string
}
```

</td>
<td>Client-side validation.</td>
</tr>

<tr>
<td>CONFIG_JWT_USER_ID_MISMATCH</td>
<td>

```ts
interface ConfigJwtEmailMismatchDetails {
  jwtUserId: string,
  configUserId: string
}
```

</td>
<td>Client-side validation.</td>
</tr>

<tr>
<td>IDENTITIES_FEATURE_DISABLED</td>
<td></td>
<td>Server-side validation.</td>
</tr>

<tr>
<td>IDENTITIES_INVALID_TOKEN</td>
<td></td>
<td>

Server-side validation. Fired when your ID token is invalid.
Check [these troubleshooting steps](##troubleshooting-and-tips) for help with debugging this.

</td>
</tr>

<tr>
<td> IDENTITIES_INVALID_PAYLOAD </td>

<td>

```ts
interface InvalidPayloadDetails {
  missingFields?: Array<string>
  invalidFields?: Array<string>
  invalidIdentities?: Array<string>
  invalidIdentityTokens?: Array<string>
}
```

</td>
<td>Server-side validation.</td>
</tr>

<tr>
<td> INTERNAL_HELPSHIFT_ERROR_DURING_USER_LOGIN </td>
<td></td>
<td>Server-side issue. Try refreshing or check the Helpshift status page.</td>
</tr>


</table>

##### UPDATE_GLOBAL_USER_DATA_FAILED {#update-global-user-data-failed}
This error can occur when you attempt to update global user data with the new Identity System.
Also see [IDENTITY_PROFILE_UPDATE_FAILED](#identity-profile-update-failed).

<table>

<tr>
<th>Reason</th>
<th>Details</th>
<th>Notes</th>
</tr>

<tr>
<td>AUTHENTICATE_WITH_FIELD_INCORRECT</td>
<td></td>
<td>

Client-side validation. Fired when you attempt to call this API, but `authenticateWith: "identities"` is not set in the `helpshiftConfig`.

</td>
</tr>

<tr>
<td>MAX_KEY_VALUES_LIMIT_EXCEEDED</td>
<td>

```ts
  interface MaxKeyValuesLimitExceededDetails {
    receivedTotalKeys: number,
    maxKeysAllowed: number
  }
```

</td>
<td>Client-side validation. Only 100 keys are allowed per update you send.</td>
</tr>

<tr>
<td>MAX_KEY_VALUES_CHAR_LIMIT_EXCEEDED</td>
<td>

```ts
  interface MaxKeyValuesCharLimitExceededDetails {
    invalidKeys: Array<string>,
    invalidValues: Array<string>
  }
```

</td>
<td>Client-side validation. The client-side limit is 1000 characters per key or value that you send.</td>
</tr>
</table>

##### UPDATE_APP_USER_DATA_FAILED {#update-app-user-data-failed}
This error can occur when you attempt to update the _app_ user data with the new Identity System.
Also see [IDENTITY_PROFILE_UPDATE_FAILED](#identity-profile-update-failed).

<table>

<tr>
<th>Reason</th>
<th>Details</th>
<th>Notes</th>
</tr>

<tr>
<td>AUTHENTICATE_WITH_FIELD_INCORRECT</td>
<td></td>
<td>

Client-side validation. Fired when you attempt to call this API, but `authenticateWith: "identities"` is not set in the `helpshiftConfig`.

</td>
</tr>

<tr>
<td>MAX_KEY_VALUES_LIMIT_EXCEEDED</td>
<td>

```ts
  interface MaxKeyValuesLimitExceededDetails {
    receivedTotalKeys: number,
    maxKeysAllowed: number
  }
```

</td>
<td>Client-side validation. Only 100 keys are allowed per update you send.</td>
</tr>

<tr>
<td>MAX_KEY_VALUES_CHAR_LIMIT_EXCEEDED</td>
<td>

```ts
  interface MaxKeyValuesCharLimitExceededDetails {
    invalidKeys: Array<string>,
    invalidValues: Array<string>
  }
```

</td>
<td>Client-side validation. The client-side limit is 1000 characters per key or value that you send.</td>
</tr>

</table>

##### ADD_USER_IDENTITY_FAILED {#add-user-identity-failed}

This error can occur when you attempt to update the a user identity with the new Identity System.
Also see [IDENTITY_PROFILE_UPDATE_FAILED](#identity-profile-update-failed).

<table>

<tr>
<th>Reason</th>
<th>Details</th>
<th>Notes</th>
</tr>

<tr>
<td>AUTHENTICATE_WITH_FIELD_INCORRECT</td>
<td></td>
<td>

Client-side validation. Fired when you attempt to call this API, but `authenticateWith: "identities"` is not set in the `helpshiftConfig`.

</td>
</tr>

<tr>
<td>JWT_IS_INVALID</td>
<td>

```ts
interface JwtIsInvalidDetails {
  expectedDataType: string,
  receivedDataType: string
}
```
In case the problem is not due to invalid data type, you might not receive the `details` key.

</td>
<td>

Client-side validation. Fired when you attempt to call this API, but `authenticateWith: "identities"` is not set in the `helpshiftConfig`.

</td>
</tr>

</table>

##### IDENTITY_PROFILE_UPDATE_FAILED {#identity-profile-update-failed}

Web Chat batches your user data updates and syncs them periodically.
As a result of this, if a validation failure occurs on the server-side, this error will
report it.

<table>

<tr>
<th>Reason</th>
<th>Details</th>
<th>Notes</th>
</tr>

<tr>
<td>IDENTITIES_FEATURE_DISABLED</td>
<td></td>
<td></td>
</tr>

<tr>
<td>IDENTITIES_INVALID_PAYLOAD</td>
<td>

```ts
interface IdentitiesInvalidPayloadDetails {
  missingFields?: Array<string>,
  invalidAppAttributes?: Array<string>,
  invalidCoreAttributes?: Array<string>,
  invalidIdentities?: Array<string>,
  invalidIdentityTokens?: Array<string>
}
```

</td>
<td></td>
</tr>

</table>