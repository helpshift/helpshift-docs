---
sidebar_position: 10
title: Getting Started Android
description: "Cocos2d-x plugin for Helpshift SDK X helps you utilize Helpshift from your game's C++ codebase."
---

import {
  Admonition,
  CodeBlock,
  Tabs,
  TabItem,
  LatestSdkVersion,
  Centered,
  Image,
  Intro,
  SideBySide,
  DownloadButton,
  Steps,
  Step,
} from "@site/src/components/forDocs";

# Getting Started <small>Android</small> {#getting-started}

<Intro>

Cocos2d-x plugin for Helpshift SDK X helps you utilize Helpshift from your game's C++ codebase.

</Intro>

Guide to integrate the Cocos2d-x plugin for Helpshift SDK X which you can call from your C++ game scripts.

## Download the Cocos2d-x plugin for Helpshift {#getting-sdk}

Download Helpshift Cocos2d-x package:

<DownloadButton
  text="Download SDK"
  link="[% sdkx-cocos2dx.android.sdk_url %]"
  classes="mb-4"
/>

The Helpshift SDK X plugin contains the following:

<div className="text-sm compact ">

|                  |                                                               |
| ---------------- | ------------------------------------------------------------- |
| helpshiftx-cocos | Folder containing the files for Cocos2d-x version 3.x and 4.x |

</div>

## Add Helpshift to your Cocos2dx project {#adding-to-project}

Copy the `helpshiftx-plugin-cocos2dx` folder to the root directory of your project.

## Adding the Helpshift Android plugin {#adding-android}

1. Copy the `android/src/com/helpshift` folder to the `src/com/` folder of your Android project.

2. Copy the contents of the `android/Classes` folder to the `Classes` folder of your Cocos2dx application.

### Add Helpshift dependencies in your project


1.  Copy the `Helpshift.aar` file from the `android/proj.android-studio/libs` present inside plugin folder to the `libs` directory of your android project.

2.  Add dependency to Helpshift SDK in your `app/build.gradle` file.

    ```
        repositories {
            //your other repositories
            flatDir { dirs 'libs' }
        }

        dependencies {
            // your other dependencies

            implementation 'com.android.support:appcompat-v7:28.0.0'
            implementation(name: 'Helpshift', ext:'aar')
        }
    ```

4.  Link Helpshift files in your project as source depending on your build system.

<Tabs>

<TabItem value="Using CMake" label="Using CMake">

    # Add Helpshift files to CMakeLists.txt, under the Android dependency
    if(ANDROID)
      list(APPEND GAME_SOURCE
           <other dependency files>
           Classes/HelpshiftCocos2dx.cpp
           Classes/HelpshiftUtil.cpp
           )
      list(APPEND GAME_HEADER
          <other dependency files>
          Classes/HelpshiftCocos2dx.h
          Classes/HelpshiftUtil.h
          )

</TabItem>
<TabItem value="Using ndk-build" label="Using ndk-build">

    # Add Helpshift files to makefile (Android.mk), under the LOCAL_SRC_FILES rule
    LOCAL_SRC_FILES := hellocpp/main.cpp \
                      ../../../Classes/HelpshiftCocos2dx.cpp \
                      ../../../Classes/HelpshiftUtil.cpp \

</TabItem>

</Tabs>

## Initializing Helpshift in your app {#initializing}

<Admonition type="info" title="Note">

Use `HelpshiftCocosBridge.install(...);` with the required arguments immediately after the `super.onCreate();` of your Cocos2d-x Activity.

</Admonition>

Helpshift SDK uniquely identifies your App with the combination of:

<div className="text-sm compact ">

|              |                                                             |
| -----------  | ----------------------------------------------------------- |
| Domain Name  | Your Helpshift domain name. For example : foo.helpshift.com |
| App ID       | A unique ID assigned to your app.                           |

</div>

To get the `Domain Name` and the `App ID`, navigate to `Settings` > `SDK (for Developers)` in your agent dashboard and scroll down to **Initializing Helpshift** section. <Image src="/static/books/common/settings-integration.png"  width="full" />

Select your App from the dropdown and copy the tokens to be passed when initializing Helpshift.

Initialize Helpshift by importing `com.helpshift.HelpshiftCocosBridge` and
calling the `HelpshiftCocosBridge.install` in the `onCreate` of your `Cocos2dxActivity`:

```java

    import com.helpshift.HelpshiftCocosBridge;

    public class MyActivity extends Cocos2dxActivity {

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            
            // Add install configs in the config map
            Map<String, Object> config = new HashMap<>();
            //...
            // Install call
            HelpshiftCocosBridge.install(
                this,
                "<App Id from the Helpshift Dashboard>",
                "<Domain name from the Helpshift Dashboard>",
                config);  
        }
    }

```

## Start using Helpshift {#start-using}

Helpshift is now integrated in your app. You should now use the support APIs to present FAQ or conversation screens inside your app.

Run your app, and try starting a test conversation using the `showConversation` API call.
Then goto your Helpshift agent dashboard and reply to experience the in-app messaging.

Sample usage for FAQs and Conversation APIs:

```cpp

cocos2d::ValueMap createValueMap(const std::string &type, Value value) {
    cocos2d::ValueMap valueMap;
    valueMap["type"] = cocos2d::Value(type);
    valueMap["value"] = cocos2d::Value(std::move(value));
    return valueMap;
}

cocos2d::ValueMap getCIFs() {
    cocos2d::ValueMap cifMap;
    cifMap["stock_level"] = createValueMap("n", Value("150"));
    cifMap["is_pro"] = createValueMap("b", Value("true"));
    return cifMap;
}

cocos2d::ValueMap getConfig() {
    cocos2d::ValueMap configMap;

    ValueVector tags;
    tags.push_back(Value("foo"));
    tags.push_back(Value("bar"));

    configMap["tags"] = tags;
    configMap["cifs"] = getCIFs();
    return configMap;
}

void HelloWorld::showFAQs(Ref *pSender) {
    cocos2d::ValueMap faqConfig = getConfig();
    HelpshiftCocos2dx::showFAQs(faqConfig);
}

void HelloWorld::showConversation(Ref *pSender) {
    cocos2d::ValueMap chatConfig = getConfig();
    HelpshiftCocos2dx::showConversation(chatConfig);
}


```